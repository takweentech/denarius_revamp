<main class="d-flex flex-column gap-4">
  <section class="d-flex justify-content-between align-items-center">
    <h3>{{ investment.name }}</h3>
    <span class="badge bg-success">{{ investment.status }}</span>
  </section>

  <section class="bg-white rounded-4 p-4 py-2">
    <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
      <!-- Profile -->
      <li [ngbNavItem]="1">
        <button ngbNavLink>
          {{ "INVESTMENTS.DETAILS.INVESTMENT_INFORMATION.TITLE" | translate }}
        </button>
        <ng-template ngbNavContent>
          <div class="row g-4 py-3">
            <div class="col-6 d-flex flex-column gap-2">
              <h6>
                {{
                  "INVESTMENTS.DETAILS.INVESTMENT_INFORMATION.PRODUCT_NAME"
                    | translate
                }}
              </h6>
              <span>{{ investment.name }}</span>
            </div>
            <div class="col-6 d-flex flex-column gap-2">
              <h6>
                {{
                  "INVESTMENTS.DETAILS.INVESTMENT_INFORMATION.TYPE" | translate
                }}
              </h6>
              <span>{{ investment.type }}</span>
            </div>
            <div class="col-6 d-flex flex-column gap-2">
              <h6>
                {{
                  "INVESTMENTS.DETAILS.INVESTMENT_INFORMATION.INVESTED_AMOUNT"
                    | translate
                }}
              </h6>
              <div class="d-flex gap-1 price-alignment w-fit">
                {{ investment.amount | number : "1.0-2"
                }}<span class="icon-saudi_riyal"></span>
              </div>
            </div>
            <div class="col-6 d-flex flex-column gap-2">
              <h6>
                {{
                  "INVESTMENTS.DETAILS.INVESTMENT_INFORMATION.STOCK_COUNT"
                    | translate
                }}
              </h6>
              <div class="d-flex gap-2 w-fit" dir="ltr">
                {{ investment.stockCount }}
              </div>
            </div>
            <div class="col-6 d-flex flex-column gap-2">
              <h6>
                {{
                  "INVESTMENTS.DETAILS.INVESTMENT_INFORMATION.STOCK_VALUE"
                    | translate
                }}
              </h6>
              <div class="d-flex price-alignment gap-1 w-fit">
                {{ investment.stockValue | number : "1.0-2"
                }}<span class="icon-saudi_riyal"></span>
              </div>
            </div>
            <div class="col-6 d-flex flex-column gap-2">
              <h6>
                {{
                  "INVESTMENTS.DETAILS.INVESTMENT_INFORMATION.INVESTMENT_DATE"
                    | translate
                }}
              </h6>
              <span class="w-fit" dir="ltr">{{
                investment.writingDate | date : "dd/MM/yyyy hh:mm a"
              }}</span>
            </div>
            <div class="col-12 mt-5 justify-content-end row d-flex">
              <button
                (click)="goBack()"
                class="col-12 rounded-4 col-lg-2 btn btn-primary"
              >
                <span class="fw-light">{{
                  "TRANSACTIONS.DETAILS.BACK" | translate
                }}</span>
              </button>
            </div>
          </div>
        </ng-template>
      </li>
      <!-- Personal Information -->
      <li [ngbNavItem]="2">
        <button ngbNavLink>
          {{ "INVESTMENTS.DETAILS.DISTRIBUTIONS.TITLE" | translate }}
        </button>
        <ng-template ngbNavContent>
          <div class="row mx-0 d-flex justify-content-center gap-3">
            @if (loading()) {
            <div class="py-4">
              <h6 class="text-center">
                {{ "DIVIDENDS.LOADING" | translate }}
              </h6>
            </div>
            }@else { @if (earnings().length) { @for (item of earnings(); track
            $index) {
            <div
              class="card row justify-content-center d-flex bg-white p-4 w-100"
            >
              <div
                class="col-md-12 row col-sm-12 d-flex gap-4 align-items-center"
              >
                <div class="col-md-1 col-sm-12">
                  <span class="badge bg-success">{{ item.status }}</span>
                </div>

                <div class="d-flex col-md col-sm-12 col-6 flex-column gap-2">
                  <small>
                    {{ "DIVIDENDS.LISTING.PRODUCT_NAME" | translate }}</small
                  >
                  <h6>{{ item.opportunityName }}</h6>
                </div>

                <div class="col-6 col-md col-sm-12 d-flex flex-column gap-2">
                  <small>
                    {{ "DIVIDENDS.LISTING.TOTAL_DIVIDENCE" | translate }}</small
                  >
                  <div class="d-flex gap-1 price-alignment w-fit">
                    {{ item.totalDividence | number : "1.0-2"
                    }}<span class="icon-saudi_riyal"></span>
                  </div>
                </div>

                <div class="col-6 col-md col-sm-12 d-flex flex-column gap-2">
                  <small>{{
                    "DIVIDENDS.LISTING.TOTAL_PRINCIPAL" | translate
                  }}</small>
                  <div class="d-flex gap-1 price-alignment w-fit">
                    {{ item.totalPrincipal | number : "1.0-2"
                    }}<span class="icon-saudi_riyal"></span>
                  </div>
                </div>

                <div class="col-6 col-md col-sm-12 d-flex flex-column gap-2">
                  <small>{{ "DIVIDENDS.LISTING.NET" | translate }}</small>
                  <div class="d-flex gap-1 price-alignment w-fit">
                    {{ item.net | number : "1.0-2" }}
                    <span class="icon-saudi_riyal"></span>
                  </div>
                </div>

                <div class="col d-flex flex-column gap-2">
                  <small>{{
                    "DIVIDENDS.LISTING.MATURITY_DATE" | translate
                  }}</small>
                  <span dir="ltr" class="w-fit">{{
                    item.maturityDate | date : "dd/MM/yyyy hh:mm a"
                  }}</span>
                </div>
              </div>
            </div>
            } }@else {
            <div class="py-4">
              <h6 class="text-center">
                {{ "INVESTMENTS.DETAILS.DISTRIBUTIONS.EMPTY" | translate }}
              </h6>
            </div>
            } } @if (!loading() && earnings().length) {
            <nav class="d-flex justify-content-center my-4">
              <ngb-pagination
                [(page)]="pagination.pageNumber"
                [pageSize]="pagination.pageSize"
                [collectionSize]="total()"
                [maxSize]="5"
                [ellipses]="true"
                (pageChange)="goToPage($event)"
                size="md"
              >
              </ngb-pagination>
            </nav>
            }
          </div>
        </ng-template>
      </li>
    </ul>
    <hr class="m-0" />
    <div [ngbNavOutlet]="nav" class="mt-2"></div>
  </section>
</main>
