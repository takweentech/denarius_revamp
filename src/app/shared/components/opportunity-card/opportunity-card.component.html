<div class="card shadow-sm rounded-4 border-0 w-100">
  <img
    (error)="opportunity.image = '/assets/images/sharikak-logo.svg'"
    [src]="opportunity.image"
    class="card-img-top rounded-top-4"
    alt="Investment Image"
  />

  <div class="card-body d-flex flex-column gap-4 px-3">
    <div class="d-flex justify-content-between text-muted">
      <small>
        {{ opportunity.durationInMonths }}
        {{ 'OPPORTUNITIES.MONTHS' | translate }}
      </small>
      <small>
        {{ 'OPPORTUNITIES.ISSUE_NUMBER' | translate }}
        {{ opportunity.issuanceNumber }}
      </small>
    </div>

    <div class="d-flex gap-2 flex-column">
      <h5 class="fw-bold">{{ opportunity.displayName }}</h5>
      <div class="d-flex gap-4 justify-content-between">
        <div class="p-0 col-12">
          <div class="fw-bold d-flex justify-content-between text-dark">
            <span class="text-muted small">
              {{
                (opportunity.dueDate | timeDiff)?.key
                  | translate
                    : {
                        count1: (opportunity.dueDate | timeDiff)?.params?.count1,
                        unit1: ((opportunity.dueDate | timeDiff)?.params?.unit1 | translate),
                        count2: (opportunity.dueDate | timeDiff)?.params?.count2,
                        unit2: ((opportunity.dueDate | timeDiff)?.params?.unit2 | translate),
                        suffix: ((opportunity.dueDate | timeDiff)?.params?.suffix | translate),
                      }
              }}
            </span>
            <span> {{ opportunity.annualReturn }}%</span>
          </div>

          <div class="progress">
            <div
              class="progress-bar"
              [ngClass]="{
                'bg-success': opportunity.annualReturn === 100,
                'bg-primary': opportunity.annualReturn < 100,
              }"
              role="progressbar"
              [style.width.%]="opportunity.annualReturn"
            ></div>
          </div>
        </div>
      </div>
    </div>

    <div class="text-muted small">
      <div class="d-flex justify-content-between">
        <p>{{ 'OPPORTUNITIES.RETURN_ON_INVESTMENT' | translate }}</p>
        <span class="fw-semibold">{{ opportunity.roi }}%</span>
      </div>
      <div class="d-flex justify-content-between">
        <p>{{ 'OPPORTUNITIES.ANNUAL_RETURN' | translate }}</p>
        <span class="fw-semibold"> {{ opportunity.rri }}% </span>
      </div>
    </div>

    <!-- Actions -->
    <div class="col">
      <a
        class="btn btn-primary w-100"
        [routerLink]="['/', webRoutes.OPPORTUNITIES.ROOT, webRoutes.OPPORTUNITIES.DETAILS, opportunity.id]"
      >
        {{ 'OPPORTUNITIES.INVEST_NOW' | translate }}
      </a>
    </div>
  </div>
</div>
